DROP SCHEMA IF EXISTS restaurants_db CASCADE;
CREATE SCHEMA restaurants_db;
SET SCHEMA 'restaurants_db';

CREATE TABLE customers
(
    customer_id integer GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    first_name   VARCHAR(100) NOT NULL,
    last_name    VARCHAR(100) NOT NULL,
    address     VARCHAR(100) NOT NULL
);

CREATE TABLE menus
(
    menu_id integer GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    price   integer
);

CREATE TABLE orders
(
    order_id    integer GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    description TEXT,
    status      VARCHAR(11),
    price       integer,
    menu_id     integer,
    customer_id integer,
    FOREIGN KEY (menu_id) REFERENCES Menus (menu_id),
    FOREIGN KEY (customer_id) REFERENCES Customers (customer_id)
);


INSERT INTO menus
VALUES (1, 200);

INSERT INTO customers(first_name, last_name, address)
VALUES ('Miguel', 'Noguera', 'Address1'),
       ('Tony', 'Genil', 'Address2'),
       ('Leonardo', 'Dantes', 'Address3');

INSERT INTO orders(description, status, price, menu_id, customer_id)
VALUES ('Amazing food!', 'InProgress', 300, 1, 1),
       ('Great stuff!', 'Completed', 500, 1, 3),
       ('Super food!', 'Completed', 700, 1, 2);

 SELECT *
FROM orders;